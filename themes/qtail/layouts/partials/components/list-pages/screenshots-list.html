<main>
    <article class="max-w-full text-lg">
        <section class="max-w-full bg-[#222222] text-[#FDFDFE] not-prose">
            <div class="mx-8 lg:mx-80 py-8">
                <h1 class="text-6xl">{{ .Title }}</h1>
                    
                    {{ if .Params.description }}
                        
                        <p class="text-lg">{{ .Params.description }}</p>
                    
                    {{ end }}

            </div>
        </section>
        
        <!-- Section for the information on how to submit screenshots to qtile.org -->
        <section class="flex flex-col gap-4 mx-8 lg:mx-80 lg:flex-row my-2 py-2">
            <div class="p-4 border rounded px-0 pt-0 mx-0 h-auto lg:w-2/5">
                <span class="flex flex-row gap-2 px-6 py-2 bg-neutral-100 border-b border-solid">
                    <img src="/images/fa-icons/cogs-solid.svg" 
                        alt="cogs solid type font icon from font awesome"
                        height="20" width="20"
                    />
                    <h4 class="text-xl">See more config examples</h4>
                </span>
                
                <p class="text-lg px-6 py-2 h-auto">
                    Be sure to check out 
                    <a class="text-[#215578] hover:text-[#102A3C] hover:underline decoration-[#102A3C]" 
                    href="https://github.com/qtile/qtile-examples"
                    >
                        more examples on Github
                    </a>
                    on how to configure Qtile.
                </p>
            </div>

            <div class="p-4 border rounded px-0 pt-0 mx-0 h-auto lg:w-2/5">
                <span class="flex flex-row gap-2 px-6 py-2 bg-neutral-100 border-b border-solid">
                    <img src="/images/fa-icons/table-columns-solid.svg" 
                    alt="cogs solid type font icon from font awesome"
                    height="20" width="20"
                    />
                    <h4 class="text-xl">Add your screenshot</h4>
                </span>
                
                <p class="text-lg px-6 py-2 h-auto">
                    Want to show off how you've customized Qtile?
                </p>
                <p class="text-lg px-6 py-2 h-auto">
                    Send a pull request to 
                    <a class="text-[#215578] hover:text-[#102A3C] hover:underline decoration-[#102A3C]"
                        href="https://github.com/qtile/qtile.org"
                    >
                        qtile.org on GitHub,
                    </a>
                    and we'll get your screenshot and config added.
                </p>
            </div>
        </section>
    
        <section class="mx-8 lg:mx-80 py-4">
            <ul>
                <li> 
                    <div class="flex flex-col flex-wrap lg:flex-row gap-4 place-items-center">
                        
                        <!-- Iterate through screenshots and show them as a grid -->
                        {{ range .Pages }}
                            
                            <div class="h-64 p-2 border shadow rounded w-80">
                                
                                <!-- If "screenshot:" frontmatter is set in the markdown file, display image -->
                                {{ if .Params.screenshot }}
                                    
                                    <!-- Find image from "screenshot" frontmatter(.Params) provided from subsequent markdown file. -->
                                    {{ $image := resources.GetMatch .Params.screenshot }}
                                    <!-- Use Hugo image processing method of "Fit" to fit the image in the thumbnail  -->
                                    {{ $image := $image.Fit "320x256 webp"}}
                                    <img class="w-full h-[75%] rounded aspect-square 
                                        " 
                                        src="{{ $image.RelPermalink }}" alt="{{ .Params.description }}" height="24" width="24"
                                    >
                                
                                {{ end }}
                                
                                <!-- Buttons to the links for viewing the configuration file and screenshot  -->
                                <div class="p-2 grid h-[25%] max-w-full grid-flow-col gap-2 items-center">
                                    <a class="p-1.5 h-fit text-center rounded border 
                                        hover:bg-[#215578] hover:text-white hover:border-[#215578]" 
                                        href="{{ .Params.config }}"
                                    >
                                        Config
                                    </a>
                                    
                                    <a class="p-1.5 h-fit text-center rounded border 
                                        hover:bg-[#215578] hover:text-white hover:border-[#215578]" 
                                        href="{{ .Permalink }}"
                                    >
                                        Screenshot
                                    </a>
                                </div>
                            </div>
                        
                        {{ end }}
                    
                    </div>      
                </li>
            </ul>
        </section>
    </article>
</main>